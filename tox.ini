[tox]
envlist = py27, py35

[testenv]
passenv=SWAK_HOME PYTHONPATH TRAVIS
usedevelop=true
setenv=
    SWAK_EXE_DIR = {toxinidir}/swak
deps=
    -r{toxinidir}/requirements.txt
    -r{toxinidir}/requirements-dev.txt
commands=
    swak -vv refresh
    python -c "import os; print(os.getcwd())"
    python -c "import os; print(os.environ)"
    python -c "import sys; print(sys.path)"
    python -c "import swak.plugins"
    coverage run --source swak --module pytest tests -s
    coverage report
