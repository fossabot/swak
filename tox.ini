[tox]
envlist = py27, py35

[testenv]
passenv=SWAK_HOME PYTHONPATH TRAVIS
usedevelop=true
setenv=
    SWAK_EXE_DIR = {toxinidir}/swak
deps=
    -r{toxinidir}/requirements.txt
    -r{toxinidir}/requirements-dev.txt
commands=
    echo "--------"
    swak -vv refresh
    echo $PYTHONPATH
    python -c "import os; print(os.environ)"
    python -m swak.plugins
    coverage run --source swak --module pytest tests
    coverage report
